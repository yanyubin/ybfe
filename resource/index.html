<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- 上述3个meta标签*必须*放在最前面，任何其他内容都*必须*跟随其后！ -->
    <title>资源平台</title>

    <link href="plug/simplePagination/simplePagination.css" rel="stylesheet">
    <link href="css/common.css" rel="stylesheet">
    <link href="css/index.css" rel="stylesheet">
    <link href="plug/zTree/css/zTreeStyle/zTreeStyle.css" rel="stylesheet">
    <link href="css/ztree.css" rel="stylesheet">

  </head>
  <body>

    <div class="header">
        <div class="w970 center">
             <div class="logo">
                <h1>XXXXX大学附属中学</h1>
                <div class="sel-stage">
                    <div>—— <i>高中云资源</i><span><img src="img/arrow-down.png"/></span></div>
                    <dl>
                      <dd>高中云资源</dd>
                      <dd>初中云资源</dd>
                      <dd>小学云资源</dd>
                    </dl>
                </div>
             </div>
             <div class="header-nav">
                <div class="user"><span>Hi,张三</span> | <a href="###">退出</a></div>
                <ul class="nav">
                    <li><a href="###" class="active">同步</a></li>
                    <li><a href="###">试卷</a></li>
                    <li><a href="###">教案</a></li>
                    <li><a href="###">学案</a></li>
                    <li><a href="###">微课</a></li>
                </ul>
             </div>
        </div>
    </div>

    <div class="main w970 center">
        <div class="left">
            <h4>选择学科 》<span>数学</span> </h4>
            <div class="sel-nav">
                <dl>
                  <dt><img src="img/icon_chinese.png" /></dt>
                  <dd>语文</dd>
                </dl>
                <dl>
                  <dt><img src="img/icon_math.png" /></dt>
                  <dd>数学</dd>
                </dl>
                <dl>
                  <dt><img src="img/icon_english.png" /></dt>
                  <dd>英语</dd>
                </dl>
                <dl>
                  <dt><img src="img/icon_physics.png" /></dt>
                  <dd>物理</dd>
                </dl>
                <dl>
                 <dt><img src="img/icon_chemistry .png" /></dt>
                  <dd>化学</dd>
                </dl>
                <dl>
                  <dt><img src="img/icon_biology.png" /></dt>
                  <dd>生物</dd>
                </dl>
                <dl>
                  <dt><img src="img/icon_geography.png" /></dt>
                  <dd>地理</dd>
                </dl>
                <dl>
                  <dt><img src="img/icon-history.png" /></dt>
                  <dd>历史</dd>
                </dl>
                <dl>
                  <dt><img src="img/icon_political.png" /></dt>
                  <dd>政治</dd>
                </dl>
                <div style="clear:both;border-top:1px solid red;">
                    <ul id="treeDemo"  class="ztree"></ul>
                </div>



            </div>
        </div>

        <div class="right">

           <div class="search">
                <div class="top">
                    <div class="filter">
                        <span>资源分类：</span>
                        <dl>
                          <dd class="active">全部</dd>
                          <dd>学案</dd>
                          <dd>教案</dd>
                          <dd>课文讲解剖析</dd>
                          <dd>同步习题</dd>
                        </dl>
                    </div>
                </div>
                <div class="input">
                  <input  type="text" placeholder="请输入需要的资料名称" /><button>搜索</button>
                </div>
           </div>

           <div class="content">
              <h4>总数： 1000条 <button>下载量由高到低</button> <span><i>2</i>/10</span> </h4>
              <div class="list">
                  <div class="item">
                      <a href="###">下载</a>
                      <div>
                         <p><span>PDF</span>人民教育出版社七年级上准备课《数一数》课前预习</p>
                         <p><i>1000</i>  <b>2016-04-24</b> </p>
                      </div>
                  </div>
                  <div class="item">
                      <a href="###">下载</a>
                      <div>
                         <p><span>PDF</span>人民教育出版社七年级上准备课《数一数》课前预习</p>
                         <p><i>1000</i>  <b>2016-04-24</b> </p>
                      </div>
                  </div>

                  <div class="item">
                      <a href="###">下载</a>
                      <div>
                         <p><span>PDF</span>人民教育出版社七年级上准备课《数一数》课前预习</p>
                         <p><i>1000</i>  <b>2016-04-24</b> </p>
                      </div>
                  </div>

                  <div class="item">
                      <a href="###">下载</a>
                      <div>
                         <p><span>PDF</span>人民教育出版社七年级上准备课《数一数》课前预习</p>
                         <p><i>1000</i>  <b>2016-04-24</b> </p>
                      </div>
                  </div>

                  <div class="item">
                      <a href="###">下载</a>
                      <div>
                         <p><span>PDF</span>人民教育出版社七年级上准备课《数一数》课前预习</p>
                         <p><i>1000</i>  <b>2016-04-24</b> </p>
                      </div>
                  </div>
                  <div class="item">
                      <a href="###">下载</a>
                      <div>
                         <p><span>PDF</span>人民教育出版社七年级上准备课《数一数》课前预习</p>
                         <p><i>1000</i>  <b>2016-04-24</b> </p>
                      </div>
                  </div>
                  <div class="item">
                      <a href="###">下载</a>
                      <div>
                         <p><span>PDF</span>人民教育出版社七年级上准备课《数一数》课前预习</p>
                         <p><i>1000</i>  <b>2016-04-24</b> </p>
                      </div>
                  </div>
              </div>
           </div>
           <div class="pagination">
              <div  id="pagination"></div>
           </div>

        </div>

    </div>

    <script type="text/javascript" src="plug/jquery-1.9.1.min.js"></script>
    <script type="text/javascript" src="plug/simplePagination/jquery.simplePagination.js"></script>
    <script type="text/javascript" src="plug/zTree/js/jquery.ztree.core-3.5.min.js"></script>
    <script type="text/javascript">

      $(function(){

         $('#pagination').pagination({
              items: 1000,
              itemsOnPage: 10,
              prevText:'上一页',
              nextText:'下一页',
              cssStyle: 'res-theme'
          });


        var curMenu = null, zTree_Menu = null;
        var setting = {
          view: {
              showLine: false,
              selectedMulti: false,
              dblClickExpand: false
            },
            data: {
              simpleData: {
                enable: true
              }
            },
            callback: {
              onNodeCreated: this.onNodeCreated,
              beforeClick: function beforeClick(treeId, node) {
                      if (node.isParent) {
                        if (node.level === 0) {
                          var pNode = curMenu;
                          while (pNode && pNode.level !==0) {
                            pNode = pNode.getParentNode();
                          }
                          if (pNode !== node) {
                            var a = $("#" + pNode.tId + "_a");
                            a.removeClass("cur");
                            zTree_Menu.expandNode(pNode, false);
                          }
                          a = $("#" + node.tId + "_a");
                          a.addClass("cur");
                          var isOpen = false;
                          for (var i=0,l=node.children.length; i<l; i++) {
                            if(node.children[i].open) {
                              isOpen = true;
                              break;
                            }
                          }
                          if (isOpen) {
                            zTree_Menu.expandNode(node, true);
                            curMenu = node;
                          } else {
                            zTree_Menu.expandNode(node.children[0].isParent?node.children[0]:node, true);
                            curMenu = node.children[0];
                          }
                        } else {
                          zTree_Menu.expandNode(node);
                        }
                      }
                      return !node.isParent;
              },
              onClick: function(e, treeId, node){
                 console.info(1);
              }
            }
        };

        var zNodes =[
          { id:11, pId:0, name:"父节点 1-1", open:true},
          { id:111, pId:11, name:"叶子节点 1-1-1"},
          { id:112, pId:11, name:"叶子节点 1-1-2"},
          { id:113, pId:11, name:"叶子节点 1-1-3"},
          { id:114, pId:11, name:"叶子节点 1-1-4"},
          { id:12, pId:0, name:"父节点 1-2"},
          { id:121, pId:12, name:"叶子节点 1-2-1"},
          { id:122, pId:12, name:"叶子节点 1-2-2"},
          { id:123, pId:12, name:"叶子节点 1-2-3"},
          { id:124, pId:12, name:"叶子节点 1-2-4"},
          { id:13, pId:0, name:"父节点 1-3"},
          { id:131, pId:13, name:"叶子节点 1-3-1"},
          { id:132, pId:13, name:"叶子节点 1-3-2"},
          { id:133, pId:13, name:"叶子节点 1-3-3"},
          { id:134, pId:13, name:"叶子节点 1-3-4"}
        ];



        //$.fn.zTree.init($("#treeDemo"), setting, zNodes);

       $.fn.zTree.init($("#treeDemo"), setting, zNodes);
        zTree_Menu = $.fn.zTree.getZTreeObj("treeDemo");
        curMenu = zTree_Menu.getNodes()[0].children[0];
        zTree_Menu.selectNode(curMenu);


      });
    </script>
  </body>
</html>
